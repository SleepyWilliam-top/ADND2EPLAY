{"version":3,"file":"index.js","mappings":"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","sources":["src://tavern_helper_template/src/è„šæœ¬ç¤ºä¾‹/ç›‘å¬æ¶ˆæ¯ä¿®æ”¹.ts","src://tavern_helper_template/src/è„šæœ¬ç¤ºä¾‹/æ·»åŠ æŒ‰é’®å’Œæ³¨å†ŒæŒ‰é’®äº‹ä»¶.ts","src://tavern_helper_template/src/è„šæœ¬ç¤ºä¾‹/åŠ è½½å’Œå¸è½½æ—¶æ‰§è¡Œå‡½æ•°.ts","src://tavern_helper_template/webpack/bootstrap","src://tavern_helper_template/external var \"Vue\"","src://tavern_helper_template/external var \"Pinia\"","src://tavern_helper_template/external var \"z\"","src://tavern_helper_template/src/è„šæœ¬ç¤ºä¾‹/settings.ts","src://tavern_helper_template/src/è„šæœ¬ç¤ºä¾‹/è®¾ç½®ç•Œé¢.vue","webpack://tavern_helper_template/src/è„šæœ¬ç¤ºä¾‹/è®¾ç½®ç•Œé¢.vue?edfb","src://tavern_helper_template/src/è„šæœ¬ç¤ºä¾‹/è®¾ç½®ç•Œé¢.ts","src://tavern_helper_template/node_modules/.pnpm/dedent@1.7.0/node_modules/dedent/dist/dedent.mjs","src://tavern_helper_template/src/è„šæœ¬ç¤ºä¾‹/è°ƒæ•´æ¶ˆæ¯æ¥¼å±‚.ts"],"sourcesContent":["eventOn(tavern_events.MESSAGE_UPDATED, (message_id: number) => {\n  toastr.error(`è°è®©ä½ åŠ¨æˆ‘ç¬¬ ${message_id} æ¥¼æ¶ˆæ¯çš„ğŸ˜¡`, `å¹²ä»€ä¹ˆ!`);\n});\n","$(() => {\n  replaceScriptButtons([{ name: 'æ™šä¸Šå¥½', visible: true }]);\n\n  eventOn(getButtonEvent('æ™šä¸Šå¥½'), () => {\n    toastr.warning('æ™šå®‰, ç»œç»œ');\n  });\n});\n","// åœ¨åŠ è½½è„šæœ¬æ—¶æ‰§è¡ŒæŸä¸ªå‡½æ•°\n$(() => {\n  toastr.success('ä½ å·²ç»æˆåŠŸåŠ è½½ç¤ºä¾‹è„šæœ¬!', 'æ­å–œä½ !');\n});\n\n// åœ¨å¸è½½è„šæœ¬æ—¶æ‰§è¡ŒæŸä¸ªå‡½æ•°\n$(window).on('pagehide', () => {\n  toastr.info('ä½ å·²ç»å¸è½½ç¤ºä¾‹è„šæœ¬!', 'å†è§!');\n});\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","const __WEBPACK_NAMESPACE_OBJECT__ = Vue;","const __WEBPACK_NAMESPACE_OBJECT__ = Pinia;","const __WEBPACK_NAMESPACE_OBJECT__ = z;","const Settings = z\n    .object({\n    button_selected: z.boolean().default(false),\n})\n    .prefault({});\nexport const useSettingsStore = defineStore('settings', () => {\n    const settings = ref(validateInplace(Settings, getVariables({ type: 'script', script_id: getScriptId() })));\n    watch(settings, new_settings => {\n        insertOrAssignVariables(toRaw(new_settings), { type: 'script', script_id: getScriptId() });\n    }, { immediate: true, deep: true });\n    return {\n        settings,\n    };\n});\nfunction validateInplace(schema, data) {\n    const result = parsePrettified(schema, data);\n    return _.assign(data, result);\n}\nfunction parsePrettified(schema, data) {\n    const result = schema.safeParse(data);\n    if (!result.success) {\n        throw Error(z.prettifyError(result.error));\n    }\n    return result.data;\n}\n","import { defineComponent as _defineComponent } from 'vue';\nimport { toDisplayString as _toDisplayString, createElementVNode as _createElementVNode, unref as _unref, vModelCheckbox as _vModelCheckbox, withDirectives as _withDirectives, openBlock as _openBlock, createElementBlock as _createElementBlock } from \"vue\";\nconst _hoisted_1 = { class: \"example-extension-settings\" };\nconst _hoisted_2 = { class: \"inline-drawer\" };\nconst _hoisted_3 = { class: \"inline-drawer-content\" };\nconst _hoisted_4 = { class: \"example-extension_block flex-container\" };\nimport { storeToRefs } from 'pinia';\nimport { useSettingsStore } from './settings';\nexport default /*@__PURE__*/ _defineComponent({\n    __name: 'è®¾ç½®ç•Œé¢',\n    setup(__props) {\n        const { settings } = storeToRefs(useSettingsStore());\n        const handle_button_click = () => {\n            toastr.success('ä½ å¥½å‘€!');\n        };\n        return (_ctx, _cache) => {\n            return (_openBlock(), _createElementBlock(\"div\", _hoisted_1, [\n                _createElementVNode(\"div\", _hoisted_2, [\n                    _cache[3] || (_cache[3] = _createElementVNode(\"div\", { class: \"inline-drawer-toggle inline-drawer-header\" }, [\n                        _createElementVNode(\"b\", null, _toDisplayString(`è„šæœ¬ç¤ºä¾‹`)),\n                        _createElementVNode(\"div\", { class: \"inline-drawer-icon fa-solid fa-circle-chevron-down down\" })\n                    ], -1 /* CACHED */)),\n                    _createElementVNode(\"div\", _hoisted_3, [\n                        _createElementVNode(\"div\", { class: \"example-extension_block flex-container\" }, [\n                            _createElementVNode(\"input\", {\n                                class: \"menu_button\",\n                                type: \"submit\",\n                                value: `ç¤ºä¾‹æŒ‰é’®`,\n                                onClick: handle_button_click\n                            })\n                        ]),\n                        _createElementVNode(\"div\", _hoisted_4, [\n                            _withDirectives(_createElementVNode(\"input\", {\n                                \"onUpdate:modelValue\": _cache[0] || (_cache[0] = ($event) => ((_unref(settings).button_selected) = $event)),\n                                type: \"checkbox\"\n                            }, null, 512 /* NEED_PATCH */), [\n                                [_vModelCheckbox, _unref(settings).button_selected]\n                            ]),\n                            _cache[1] || (_cache[1] = _createElementVNode(\"label\", { for: \"example_setting\" }, _toDisplayString(`ç¤ºä¾‹å¼€å…³`), -1 /* CACHED */))\n                        ]),\n                        _cache[2] || (_cache[2] = _createElementVNode(\"hr\", { class: \"sysHR\" }, null, -1 /* CACHED */))\n                    ])\n                ])\n            ]));\n        };\n    }\n});\n","/* unplugin-vue-components disabled */import script from \"./è®¾ç½®ç•Œé¢.vue?vue&type=script&setup=true&lang=ts\"\nexport * from \"./è®¾ç½®ç•Œé¢.vue?vue&type=script&setup=true&lang=ts\"\n\nconst __exports__ = script;\n\nexport default __exports__","import ç•Œé¢ from './è®¾ç½®ç•Œé¢.vue';\nconst app = createApp(ç•Œé¢).use(createPinia());\n$(() => {\n    const $app = createScriptIdDiv();\n    $('#extensions_settings2').append($app);\n    teleportStyle();\n    app.mount($app[0]);\n});\n$(window).on('unload', () => {\n    app.unmount();\n    deteleportStyle();\n    destroyScriptIdDiv();\n});\nfunction teleportStyle() {\n    if ($(`head > div[script_id=\"${getScriptId()}\"]`).length > 0) {\n        return;\n    }\n    const $div = $(`<div>`).attr('script_id', getScriptId()).append($(`head > style`, document).clone());\n    $('head').append($div);\n}\nfunction deteleportStyle() {\n    $(`head > div[script_id=\"${getScriptId()}\"]`).remove();\n}\nfunction createScriptIdDiv() {\n    return $('<div>').attr('script_id', getScriptId());\n}\nfunction destroyScriptIdDiv() {\n    $(`div[script_id=\"${getScriptId()}\"]`).remove();\n}\n","function ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\nfunction _defineProperty(obj, key, value) { key = _toPropertyKey(key); if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\nfunction _toPropertyKey(arg) { var key = _toPrimitive(arg, \"string\"); return typeof key === \"symbol\" ? key : String(key); }\nfunction _toPrimitive(input, hint) { if (typeof input !== \"object\" || input === null) return input; var prim = input[Symbol.toPrimitive]; if (prim !== undefined) { var res = prim.call(input, hint || \"default\"); if (typeof res !== \"object\") return res; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (hint === \"string\" ? String : Number)(input); }\nconst dedent = createDedent({});\nexport default dedent;\nfunction createDedent(options) {\n  dedent.withOptions = newOptions => createDedent(_objectSpread(_objectSpread({}, options), newOptions));\n  return dedent;\n  function dedent(strings, ...values) {\n    const raw = typeof strings === \"string\" ? [strings] : strings.raw;\n    const {\n      alignValues = false,\n      escapeSpecialCharacters = Array.isArray(strings),\n      trimWhitespace = true\n    } = options;\n\n    // first, perform interpolation\n    let result = \"\";\n    for (let i = 0; i < raw.length; i++) {\n      let next = raw[i];\n      if (escapeSpecialCharacters) {\n        // handle escaped newlines, backticks, and interpolation characters\n        next = next.replace(/\\\\\\n[ \\t]*/g, \"\").replace(/\\\\`/g, \"`\").replace(/\\\\\\$/g, \"$\").replace(/\\\\\\{/g, \"{\");\n      }\n      result += next;\n      if (i < values.length) {\n        const value = alignValues ? alignValue(values[i], result) : values[i];\n\n        // eslint-disable-next-line @typescript-eslint/restrict-plus-operands\n        result += value;\n      }\n    }\n\n    // now strip indentation\n    const lines = result.split(\"\\n\");\n    let mindent = null;\n    for (const l of lines) {\n      const m = l.match(/^(\\s+)\\S+/);\n      if (m) {\n        const indent = m[1].length;\n        if (!mindent) {\n          // this is the first indented line\n          mindent = indent;\n        } else {\n          mindent = Math.min(mindent, indent);\n        }\n      }\n    }\n    if (mindent !== null) {\n      const m = mindent; // appease TypeScript\n      result = lines\n      // https://github.com/typescript-eslint/typescript-eslint/issues/7140\n      // eslint-disable-next-line @typescript-eslint/prefer-string-starts-ends-with\n      .map(l => l[0] === \" \" || l[0] === \"\\t\" ? l.slice(m) : l).join(\"\\n\");\n    }\n\n    // dedent eats leading and trailing whitespace too\n    if (trimWhitespace) {\n      result = result.trim();\n    }\n\n    // handle escaped newlines at the end to ensure they don't get stripped too\n    if (escapeSpecialCharacters) {\n      result = result.replace(/\\\\n/g, \"\\n\");\n    }\n    return result;\n  }\n}\n\n/**\n * Adjusts the indentation of a multi-line interpolated value to match the current line.\n */\nfunction alignValue(value, precedingText) {\n  if (typeof value !== \"string\" || !value.includes(\"\\n\")) {\n    return value;\n  }\n  const currentLine = precedingText.slice(precedingText.lastIndexOf(\"\\n\") + 1);\n  const indentMatch = currentLine.match(/^(\\s+)/);\n  if (indentMatch) {\n    const indent = indentMatch[1];\n    return value.replace(/\\n/g, `\\n${indent}`);\n  }\n  return value;\n}\n","\"use strict\";\n$(async () => {\n    const message_id = getLastMessageId();\n    if (message_id !== 0) {\n        return;\n    }\n    await createChatMessages([\n        {\n            role: 'assistant',\n            message: dedent(`\n                   [æŸ¥çœ‹æ—¥è®°: è¿™æ˜¯ç¬¬äºŒæ¬¡çœ‹æˆ‘çš„æ—¥è®°äº†å‘¢~]\n                   <roleplay_options>\n                   æ¥å—æ—¥è®°æœ¬å¹¶ç¿»é˜…: é’ç©ºé»æ¥è¿‡å¥¹é€’æ¥çš„ç²‰è‰²æ—¥è®°æœ¬ï¼Œåœ¨å¤©å°é˜³å…‰ä¸‹ç¼“ç¼“ç¿»å¼€ç¬¬ä¸€é¡µ\n                   ä¿æŒæ²‰é»˜ç›¯ç€å¥¹çœ‹: é’ç©ºé»æ²¡æœ‰æ¥æœ¬å­ï¼Œåªæ˜¯ç›¯ç€å¥¹ç•¥æ˜¾ç´§å¼ çš„è¡¨æƒ…å’Œè½»é¢¤çš„å£°éŸ³\n                   ååˆ°å¥¹èº«è¾¹: é’ç©ºé»æ²¡æœ‰ç«‹åˆ»å›åº”ï¼Œè€Œæ˜¯ç¼“ç¼“èµ°åˆ°ç»œç»œèº«è¾¹åä¸‹ï¼Œç­‰å¾…å¥¹è‡ªå·±ç»§ç»­è¯´\n                   å¼€ç©ç¬‘åŒ–è§£æ°”æ°›: é’ç©ºé»å¾®å¾®ä¸€ç¬‘ï¼Œå¼€ç©ç¬‘åœ°è¯´ã€Œæ‰€ä»¥ï¼Œæ˜¯è¦è®©æˆ‘å½“ç›‘ç£å®˜å•¦ï¼Ÿã€\n                   è·³è¿‡æ—¶é—´: é’ç©ºé»æ¥è¿‡æ—¥è®°æœ¬ï¼Œå®‰é™åœ°ç¿»äº†å‡ é¡µï¼Œæ—¶é—´æ‚„ç„¶æµé€è‡³é»„æ˜æ·±å¤„\n                   å’Œç»œç»œèŠå¤©: é’ç©ºé»è¯•æ¢æ€§åœ°é—®ï¼šã€Œè¿™æœ¬æ˜¯ä»å“ªå¤©å¼€å§‹å†™çš„ï¼Ÿéƒ½å†™äº›ä»€ä¹ˆå‘€ï¼Ÿã€\n                   </roleplay_options>\n                 `),\n        },\n        {\n            role: 'assistant',\n            message: dedent(`\n                   [æŸ¥çœ‹æ—¥è®°: çœŸæ˜¯çš„, å°±è¿™ä¹ˆå–œæ¬¢çœ‹å—(vã€ƒÏ‰ã€ƒ)]\n                   <roleplay_options>\n                   é˜…è¯»æ—¥è®°ç¬¬ä¸€é¡µï¼šé’ç©ºé»æ‰“å¼€ç²‰è‰²çš„æ—¥è®°æœ¬ï¼Œä»ç¬¬ä¸€é¡µå¼€å§‹è®¤çœŸé˜…è¯»ç»œç»œçš„è®°å½•å†…å®¹ã€‚\n                   é—®å¥¹å°é¢ä¸Šçš„å…”å­è´´çº¸ï¼šé’ç©ºé»å¥½å¥‡é‚£æšè“è‰²å…”å­è´´çº¸çš„æ¥å†ï¼Œè½¬å¤´å‘ç»œç»œè¯¢é—®ã€‚\n                   è§‚å¯Ÿç»œç»œçš„å°åŠ¨ä½œï¼šé’ç©ºé»ä¸æ€¥ç€ç¿»å¼€æ—¥è®°ï¼Œè€Œæ˜¯æ³¨æ„åˆ°ç»œç»œè¡¨æƒ…é‡Œä¸€ä¸æœŸå¾…ä¸ä¸å®‰ã€‚\n                   å’Œå¥¹é—²èŠå¤©æ°”ï¼šé’ç©ºé»éšå£èŠèµ·å‚æ™šé£æœ‰ç‚¹å‡‰ï¼Œè¯•å›¾èˆ’ç¼“ç´§å¼ æ°”æ°›ã€‚\n                   è°ƒä¾ƒå¥¹ï¼šâ€œæœ‰å“ªé¡µæ˜¯â€˜ä¸è®¸çœ‹â€™çš„ï¼Ÿâ€é’ç©ºé»è½»æ¾åœ°è¯•å›¾åŒ–è§£å¥¹çš„å°æ…Œä¹±ã€‚\n                   è½¬èº«å›æ•™å®¤ï¼šé’ç©ºé»æ¥è¿‡æ—¥è®°å´å¹¶æœªç«‹åˆ»ç¿»å¼€ï¼Œè€Œæ˜¯è¡¨ç¤ºå›æ•™å®¤å†çœ‹ï¼Œæ‰“ç®—æ…¢æ…¢é˜…è¯»ã€‚\n                   </roleplay_options>\n                 `),\n        },\n    ], { refresh: 'all' });\n});\n"],"names":["eventOn","tavern_events","MESSAGE_UPDATED","message_id","toastr","error","$","replaceScriptButtons","name","visible","getButtonEvent","warning","success","window","on","info","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","undefined","exports","module","__webpack_modules__","Vue","Pinia","z","Settings","object","button_selected","boolean","default","prefault","useSettingsStore","defineStore","settings","ref","schema","data","result","safeParse","Error","prettifyError","parsePrettified","_","assign","validateInplace","getVariables","type","script_id","getScriptId","watch","new_settings","insertOrAssignVariables","toRaw","immediate","deep","_hoisted_1","class","_hoisted_2","_hoisted_3","_hoisted_4","__name","setup","__props","storeToRefs","handle_button_click","_ctx","_cache","value","onClick","$event","for","app","createApp","use","createPinia","$app","attr","append","length","$div","document","clone","teleportStyle","mount","unmount","remove","ownKeys","enumerableOnly","keys","Object","getOwnPropertySymbols","symbols","filter","sym","getOwnPropertyDescriptor","enumerable","push","apply","_objectSpread","target","i","arguments","source","forEach","key","_defineProperty","getOwnPropertyDescriptors","defineProperties","defineProperty","obj","arg","input","hint","prim","Symbol","toPrimitive","res","call","TypeError","String","Number","_toPrimitive","_toPropertyKey","configurable","writable","dedent","createDedent","options","withOptions","newOptions","strings","values","raw","alignValues","escapeSpecialCharacters","Array","isArray","trimWhitespace","next","replace","alignValue","lines","split","mindent","l","m","match","indent","Math","min","map","slice","join","trim","precedingText","includes","indentMatch","lastIndexOf","async","getLastMessageId","createChatMessages","role","message","refresh"],"sourceRoot":""}