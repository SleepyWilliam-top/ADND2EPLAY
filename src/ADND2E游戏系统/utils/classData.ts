import { getRaceById } from './raceData';

// 职业接口
export interface Class {
  id: string;
  name: string; // 必须与 raceData.ts 中 classLimits 的 className 完全一致
  englishName: string;
  category: 'warrior' | 'wizard' | 'priest' | 'rogue';
  icon: string;
  description: string;
  image?: string; // 职业插图URL
  imageCredit?: string; // 图片来源标注

  // 属性要求
  abilityRequirements: {
    [key: string]: number; // 最低值
  };
  primeRequisites: string[]; // 首要属性

  // 等级与经验
  experienceLevels: Array<{
    level: number;
    xp: number;
    hitDice: string;
  }>;

  // 特殊能力
  specialAbilities: Array<{
    level: number;
    name: string;
    description: string;
  }>;

  // 武器和护甲限制
  weaponRestrictions: string;
  armorRestrictions: string;
  allowedWeapons?: string[]; // 允许使用的武器ID列表（undefined表示所有武器）

  // 法术能力（如果有）
  spellcasting?: {
    type: 'wizard' | 'priest';
    spellProgression: Array<{
      level: number;
      spells: number[]; // 每个法术等级的数量
    }>;
  };

  // 法术领域（仅祭司）
  spellSpheres?: {
    major: string[]; // 主要权能领域
    minor: string[]; // 次要权能领域
  };

  // 特殊说明
  specialNotes?: string[];
}

// 职业数据
export const classes: Class[] = [
  // ==================== 勇士类 ====================
  {
    id: 'fighter',
    name: '战士',
    englishName: 'Fighter',
    category: 'warrior',
    icon: '⚔️',
    description:
      '战士的首要属性是力量。战士是精通武器的勇士，如果足够聪明，那么他还可以是战术家和战略家。传说中有许多著名的战士：赫拉克勒斯、珀尔修斯、海华沙、贝奥武夫、齐格弗里德、库·丘林、小约翰、特里斯坦以及辛巴达。战士可以属于任何阵营：善良或邪恶，守序或混乱，甚至是中立的。',
    image: 'https://p.sda1.dev/28/c7493dd079c308f7cd4d1e68306da308/fighter.jpg',
    imageCredit: 'X.com DoPq @yy62401',
    abilityRequirements: {
      str: 9,
    },
    primeRequisites: ['力量'],
    experienceLevels: [
      { level: 1, xp: 0, hitDice: '1d10' },
      { level: 2, xp: 2000, hitDice: '2d10' },
      { level: 3, xp: 4000, hitDice: '3d10' },
      { level: 4, xp: 8000, hitDice: '4d10' },
      { level: 5, xp: 16000, hitDice: '5d10' },
      { level: 6, xp: 32000, hitDice: '6d10' },
      { level: 7, xp: 64000, hitDice: '7d10' },
      { level: 8, xp: 125000, hitDice: '8d10' },
      { level: 9, xp: 250000, hitDice: '9d10' },
      { level: 10, xp: 500000, hitDice: '9d10+3' },
      { level: 11, xp: 750000, hitDice: '9d10+6' },
      { level: 12, xp: 1000000, hitDice: '9d10+9' },
      { level: 13, xp: 1250000, hitDice: '9d10+12' },
      { level: 14, xp: 1500000, hitDice: '9d10+15' },
      { level: 15, xp: 1750000, hitDice: '9d10+18' },
      { level: 16, xp: 2000000, hitDice: '9d10+21' },
      { level: 17, xp: 2250000, hitDice: '9d10+24' },
      { level: 18, xp: 2500000, hitDice: '9d10+27' },
      { level: 19, xp: 2750000, hitDice: '9d10+30' },
      { level: 20, xp: 3000000, hitDice: '9d10+33' },
    ],
    specialAbilities: [
      {
        level: 1,
        name: '武器专精',
        description:
          '作为武器大师，战士是唯一能够拥有武器专精的角色职业。武器专精使战士能够以特殊的技巧来使用特定的武器，提高他们使用武器时的命中率与伤害。战士是否需要专精于武器将取决于玩家的选择。包括游侠和圣武士在内的任何其他角色职业都无法选择武器专精。',
      },
      {
        level: 1,
        name: '使用魔法物品',
        description:
          '虽然战士不能施法，但他们可以使用许多魔法物品，其中包括药剂、保护卷轴、大部分戒指以及所有的魔法护甲、武器和盾牌。',
      },
      {
        level: 7,
        name: '多次攻击 (3/2轮)',
        description:
          '所有勇士都会随着等级的提升而获得一轮内进行多次近战攻击的能力。7-12级的战士每轮可进行3/2次近战攻击（即每两轮进行3次攻击）。',
      },
      {
        level: 9,
        name: '建立据点与吸引追随者',
        description:
          '当战士到达9级时（成为一位"领主"），他能够自动吸引雇佣兵。这些士兵是在听说了战士的事迹后慕名而来的，他们希望得到名誉，参与冒险并获得财富。为了吸引这些人，战士必须要有一座城堡或据点，并且在那周围拥有数量可观的土地。随着他声明权力并实行统治，士兵们将来到他的领地，增强他的力量。此外，战士还可以开发这些土地，从那里征税以获得稳定的收入。\n\n除了普通的雇佣兵之外，升到9级的战士还能吸引一些优秀的保镖（他的亲卫）。这些优秀的保镖比普通的士兵更为忠诚，但希望得到更好的待遇和更高的薪水。战士可能在达到9级之前就已经拥有像城堡或据点这样的财产，然而只有他达到该级别时，他的名字才会广为人知并足以吸引其他勇士前来效忠。',
      },
      {
        level: 13,
        name: '多次攻击增强 (2/轮)',
        description: '13级及以上的战士每轮可进行2次近战攻击。',
      },
    ],
    weaponRestrictions: '可以使用任何武器',
    armorRestrictions: '可以穿戴任何类型的护甲和盾牌',
    specialNotes: [
      '力量值达到16或更高的战士能得到额外的10%经验值奖励',
      '高力量让战士能够更容易地击中对手，造成更多的伤害',
      '虽然战士不能施法，但他们可以使用许多魔法物品',
    ],
  },

  {
    id: 'paladin',
    name: '圣武士',
    englishName: 'Paladin',
    category: 'warrior',
    icon: '🛡️',
    description:
      '圣武士是高贵而英勇的勇士，象征着这个世上的一切正义与真理。他必须在任何时候都坚持着崇高的理想。罗兰与查理大帝的十二近侍、兰斯洛特爵士、高文爵士与加拉哈德爵士皆是该职业的个中典范。只有人类有机会成为圣武士。圣武士必须是守序善良阵营，且必须始终保持守序善良。',
    image: 'https://p.sda1.dev/28/b37f27bc5dd29bfef6c20344ecbd5c2f/paladin.jpg',
    imageCredit: 'X.com DoPq @yy62401',
    abilityRequirements: {
      str: 12,
      con: 9,
      wis: 13,
      cha: 17,
    },
    primeRequisites: ['力量', '魅力'],
    experienceLevels: [
      { level: 1, xp: 0, hitDice: '1d10' },
      { level: 2, xp: 2250, hitDice: '2d10' },
      { level: 3, xp: 4500, hitDice: '3d10' },
      { level: 4, xp: 9000, hitDice: '4d10' },
      { level: 5, xp: 18000, hitDice: '5d10' },
      { level: 6, xp: 36000, hitDice: '6d10' },
      { level: 7, xp: 75000, hitDice: '7d10' },
      { level: 8, xp: 150000, hitDice: '8d10' },
      { level: 9, xp: 300000, hitDice: '9d10' },
      { level: 10, xp: 600000, hitDice: '9d10+3' },
      { level: 11, xp: 900000, hitDice: '9d10+6' },
      { level: 12, xp: 1200000, hitDice: '9d10+9' },
      { level: 13, xp: 1500000, hitDice: '9d10+12' },
      { level: 14, xp: 1800000, hitDice: '9d10+15' },
      { level: 15, xp: 2100000, hitDice: '9d10+18' },
      { level: 16, xp: 2400000, hitDice: '9d10+21' },
      { level: 17, xp: 2700000, hitDice: '9d10+24' },
      { level: 18, xp: 3000000, hitDice: '9d10+27' },
      { level: 19, xp: 3300000, hitDice: '9d10+30' },
      { level: 20, xp: 3600000, hitDice: '9d10+33' },
    ],
    specialAbilities: [
      {
        level: 1,
        name: '侦测邪恶',
        description:
          '圣武士可以通过专注于侦测特定方向上的邪恶而定位至多60英尺远的邪恶存在。他可以随意使用该能力，但每次尝试都花费一轮的时间。这个能力可以发现邪恶的怪物与角色。',
      },
      {
        level: 1,
        name: '豁免奖励',
        description: '圣武士的所有豁免检定得到+2奖励。',
      },
      {
        level: 1,
        name: '疾病免疫',
        description:
          '圣武士免疫所有形式的疾病。请注意特定的魔法诅咒——兽化症与腐尸症——是诅咒而不是疾病，因此不在免疫范围内。',
      },
      {
        level: 1,
        name: '圣疗 (治疗触碰)',
        description:
          '圣武士能够以手碰触来治疗，每个经验等级都能恢复2点生命值。他能治疗自己或其他人，但每天仅一次。例如，一位5级圣武士每天可以治疗10点生命值。',
      },
      {
        level: 1,
        name: '治疗疾病',
        description:
          '圣武士能够治疗任意种类疾病（但不包括诅咒，例如兽化症）。每五个经验等级，这个能力在每周都可以使用一次：\n• 等级1-5：每周一次\n• 等级6-10：每周两次\n• 等级11-15：每周三次\n• 等级16-20：每周四次',
      },
      {
        level: 1,
        name: '保护灵光',
        description:
          '圣武士周围环绕着保护灵光，范围是10英尺半径。在该半径之内，所有召唤物和特定的邪恶生物的攻击检定均遭受-1惩罚，无论它们是在攻击什么。被该灵光影响的生物能轻松找到其来源，即使圣武士进行了易容。',
      },
      {
        level: 1,
        name: '驱散魔法 (圣剑能力)',
        description:
          '当圣武士将圣剑拔出鞘并持握时，他能够展现出一个10英尺直径的能量环。这个能力可以驱散其施法者等级不超过圣武士经验等级的敌对法术。圣剑是一种非常特殊的武器，需要由DM授予。',
      },
      {
        level: 3,
        name: '斥退亡灵与邪魔',
        description:
          '当达到3级时，圣武士获得斥退亡灵与邪魔的能力。他能够如同比他低两级的牧师那样影响这些怪物——例如，在3级时他拥有如同1级牧师般的斥退能力。这个能力对亡灵和邪魔生物都有效。',
      },
      {
        level: 4,
        name: '召唤战马',
        description:
          '当到达4级或更高等级时，圣武士能够召来他的战马。这忠诚的坐骑并不必须是一匹马：它可以是适合该角色的任何生物（由DM决定）。圣武士的战马是非常特殊的动物，它与勇士因命运而联系在一起。圣武士并不能真的"召来"该动物，马也不可能立刻出现在他面前。相反，角色必须通过某种令人难忘的方式而找到他的战马，通常是一个特殊的任务。',
      },
      {
        level: 7,
        name: '多次攻击 (3/2轮)',
        description: '7-12级的圣武士每轮可进行3/2次近战攻击（即每两轮进行3次攻击）。',
      },
      {
        level: 9,
        name: '施展祭司法术',
        description:
          '当达到9级时，圣武士能够施展祭司法术。他只能施展战斗、预言、医疗与保护领域的法术。这些法术的获得与施展遵循于祭司的相关规则。不同于祭司，圣武士无法因高灵知属性值而获得额外法术。圣武士无法以牧师或德鲁伊卷轴来施展法术，他们也不能使用祭司物品，除非这些物品是勇士也可以使用的。',
      },
      {
        level: 13,
        name: '多次攻击增强 (2/轮)',
        description: '13级及以上的圣武士每轮可进行2次近战攻击。',
      },
    ],
    weaponRestrictions: '可以使用任何武器',
    armorRestrictions: '可以穿戴任何类型的护甲和盾牌',
    spellcasting: {
      type: 'priest',
      spellProgression: [
        { level: 9, spells: [1, 0, 0, 0] },
        { level: 10, spells: [2, 0, 0, 0] },
        { level: 11, spells: [2, 1, 0, 0] },
        { level: 12, spells: [2, 2, 0, 0] },
        { level: 13, spells: [2, 2, 1, 0] },
        { level: 14, spells: [3, 2, 1, 0] },
        { level: 15, spells: [3, 2, 1, 1] },
        { level: 16, spells: [3, 3, 2, 1] },
        { level: 17, spells: [3, 3, 3, 1] },
        { level: 18, spells: [3, 3, 3, 1] },
        { level: 19, spells: [3, 3, 3, 2] },
        { level: 20, spells: [3, 3, 3, 3] },
      ],
    },
    spellSpheres: {
      major: ['战斗', '预言', '医疗', '保护'],
      minor: [],
    },
    specialNotes: [
      '力量与魅力属性值达到16或以上能得到额外的10%经验值奖励',
      '必须始终保持守序善良阵营。无意进行混乱行为需向高阶牧师忏悔；故意且自愿进行邪恶行径将立刻且不可逆转的失去圣武士身份',
      '不能拥有超过10件魔法物品（不超过一套护甲、一面盾牌、四把武器和四件其他魔法物品）',
      '必须向守序善良阵营慈善宗教组织缴纳什一税（10%收入）',
      '不能保留财富，只能保有维持谦逊生活所需的财产',
      '即使达到9级也无法吸引随从队伍，但可以雇佣守序善良的士兵或专家',
      '只能雇佣守序善良的追随者，只有在其他阵营角色举止规矩时才会与之合作',
    ],
  },

  {
    id: 'ranger',
    name: '游侠',
    englishName: 'Ranger',
    category: 'warrior',
    icon: '🏹',
    description:
      '游侠是倚仗着剑与灵知生存的猎手与护林员。罗宾汉、俄里翁、巨人杀手杰克都是历史和传说中的游侠典范。游侠的能力让他们在追踪、森林知识和刺探方面格外出色。游侠必须是善良阵营，但可以是守序、中立或混乱善良。',
    image: 'https://p.sda1.dev/28/edc0052529018e47db8a099aa251cbb2/ranger.jpg',
    imageCredit: 'X.com DoPq @yy62401',
    abilityRequirements: {
      str: 13,
      dex: 13,
      con: 14,
      wis: 14,
    },
    primeRequisites: ['力量', '敏捷', '灵知'],
    experienceLevels: [
      { level: 1, xp: 0, hitDice: '1d10' },
      { level: 2, xp: 2250, hitDice: '2d10' },
      { level: 3, xp: 4500, hitDice: '3d10' },
      { level: 4, xp: 9000, hitDice: '4d10' },
      { level: 5, xp: 18000, hitDice: '5d10' },
      { level: 6, xp: 36000, hitDice: '6d10' },
      { level: 7, xp: 75000, hitDice: '7d10' },
      { level: 8, xp: 150000, hitDice: '8d10' },
      { level: 9, xp: 300000, hitDice: '9d10' },
      { level: 10, xp: 600000, hitDice: '9d10+3' },
      { level: 11, xp: 900000, hitDice: '9d10+6' },
      { level: 12, xp: 1200000, hitDice: '9d10+9' },
      { level: 13, xp: 1500000, hitDice: '9d10+12' },
      { level: 14, xp: 1800000, hitDice: '9d10+15' },
      { level: 15, xp: 2100000, hitDice: '9d10+18' },
      { level: 16, xp: 2400000, hitDice: '9d10+21' },
      { level: 17, xp: 2700000, hitDice: '9d10+24' },
      { level: 18, xp: 3000000, hitDice: '9d10+27' },
      { level: 19, xp: 3300000, hitDice: '9d10+30' },
      { level: 20, xp: 3600000, hitDice: '9d10+33' },
    ],
    specialAbilities: [
      {
        level: 1,
        name: '双武器战斗',
        description:
          '除了勇士的基础技能，游侠还有一些其他的优势。在穿着镶嵌皮甲或更轻的护甲的时候，游侠能够双持战斗而无需承受攻击惩罚。显然，游侠无法在使用盾牌时如此战斗。游侠在穿着比镶嵌皮甲更重的护甲时也可以双持武器来进行战斗，但在攻击检定上会受到正常的惩罚。',
      },
      {
        level: 1,
        name: '追踪',
        description:
          '游侠是老练的护林员。即便没有使用可选的熟练规则，游侠也依然会熟练于追踪。如果使用了熟练规则，游侠无须花费任何点数就可掌握追踪。此外，每三个游侠等级可以使该能力获得+1奖励：\n• 3-5级：+1\n• 6-8级：+2\n• 9-11级：+3\n• 12-14级：+4\n• 15级及以上：+5',
      },
      {
        level: 1,
        name: '潜行与阴影躲藏',
        description:
          '当身着镶嵌皮甲或更轻的护甲时，游侠可以尝试潜行或阴影躲藏。他在自然环境下这么做的成功率会随等级提升（见等级表）。这会受到游侠的种族及敏捷值的调整。而在非自然环境（发霉的墓穴或城市街道）中试图这么做时，该成功率减半。当穿着任何比镶嵌皮甲重的护甲时，阴影躲藏或潜行都是不可能的——这些护甲太过笨拙而且会发出很多噪音。',
      },
      {
        level: 2,
        name: '宿敌',
        description:
          '作为善良的守护者，游侠倾向于专门对付某些种类的生物，这通常都是那些侵扰他家乡的生物。在升到2级之前，每个游侠都必须选择一个宿敌种类。典型的宿敌包括巨人、兽人、蜥蜴人、巨魔或食尸鬼；DM对你的选择有最终决定权。在此之后，每当游侠遇到这类宿敌，他都能在攻击检定上获得+4奖励。这种敌意是很难被掩饰起来的，因此游侠与他的宿敌之间的反应受到-4的惩罚。此外，在战斗时，除非存在比他的宿敌更为危险的敌人，否则游侠将积极地寻找他的宿敌，并优先与之战斗。',
      },
      {
        level: 1,
        name: '亲近动物',
        description:
          '游侠擅长于应对各种驯服及未驯化的生物，他能够一定程度地亲近动物。如果一个游侠小心地亲近或照料任何自然动物，他可以尝试调整与该动物之间的反应（自然动物指的是在现实世界能找到的那些——像是熊、蛇、斑马之类的）。\n\n当面对驯养或无敌意动物时，游侠可以自动亲近该动物并与之友善。他能轻松辨别动物的素质（认出围栏中最好的马或在一窝动物幼崽中看出某只发育不全的小家伙所实际拥有的巨大潜力）。\n\n当野生动物或经战斗训练的动物行动时，该动物必须为抵抗游侠的友好姿态而进行对权杖的豁免检定。游侠每有三个等级就可使该检定受到-1惩罚（1-3级：-1，4-6级：-2，如此类推）。如果该生物未能通过豁免检定，它的态度会在游侠的决定下改变一级。',
      },
      {
        level: 7,
        name: '多次攻击 (3/2轮)',
        description: '7-12级的游侠每轮可进行3/2次近战攻击（即每两轮进行3次攻击）。',
      },
      {
        level: 8,
        name: '施展祭司法术',
        description:
          '达到8级的游侠可以学习祭司法术，但他只能学习植物或动物领域的法术。他按照祭司的规则来得到和施展法术。游侠不会因高灵知值而获得额外法术位，除非特别说明，他也不能使用祭司的卷轴或祭司的魔法物品。',
      },
      {
        level: 10,
        name: '吸引随从',
        description:
          '在10级时，游侠能够吸引到2d6个随从。这些随从可能是普通人类，但通常是动物或甚至是不熟悉的本地居民（如熊、鹰、精灵战士、半羊人、树人等）。这些随从将在几个月内相继前来，通常会在游侠的冒险中被碰到。虽然随从起初忠于游侠并友善于他，但他们的未来表现取决于游侠如何对待他们。游侠不会获得与随从的特殊交流方式，除非他设法与他们交谈否则他们只会默默跟随。游侠可以随时解散他的随从，他们将无奈的离去，但又随时准备着响应他以后可能会发出的召唤。',
      },
      {
        level: 13,
        name: '多次攻击增强 (2/轮)',
        description: '13级及以上的游侠每轮可进行2次近战攻击。',
      },
    ],
    weaponRestrictions: '可以使用任何武器',
    armorRestrictions: '可以穿戴任何护甲，但某些能力只有在镶嵌皮甲或更轻的护甲时才能使用',
    spellcasting: {
      type: 'priest',
      spellProgression: [
        { level: 8, spells: [1, 0, 0] },
        { level: 9, spells: [2, 0, 0] },
        { level: 10, spells: [2, 1, 0] },
        { level: 11, spells: [2, 2, 0] },
        { level: 12, spells: [2, 2, 1] },
        { level: 13, spells: [3, 2, 1] },
        { level: 14, spells: [3, 2, 2] },
        { level: 15, spells: [3, 3, 2] },
        { level: 16, spells: [3, 3, 3] },
      ],
    },
    spellSpheres: {
      major: ['植物', '动物'],
      minor: [],
    },
    specialNotes: [
      '力量、敏捷和灵知达到16或以上能得到额外的10%经验值奖励',
      '必须保持善良阵营（守序、中立或混乱善良皆可）。如果刻意作恶，将自动失去游侠身份成为战士；如果无意间犯下恶行，则在赎罪前无法获得经验值',
      '达到8级之前不能有追随者、雇工、佣兵甚至仆人，必须是四处奔波的独行侠',
      '不能有任何货币形式的财产，也不能拥有他们所不能携带的财产。多余的财产必须被转换成便携的形式或捐给有意义的公众机构（NPC团体，而非玩家角色）',
      '可以建造城堡、堡垒或据点，但并不会因为这么做而获得任何特殊随从（除了10级时的2d6随从）',
    ],
  },

  // ==================== 法师类 ====================
  {
    id: 'mage',
    name: '巫师',
    englishName: 'Mage',
    category: 'wizard',
    icon: '🔮',
    description:
      '巫师是法师中最为多才多艺的一种，他们选择不专精于某个特定的魔法学派。这既是一种优势同时也是劣势。广泛的法术选择让巫师能够处理许多不同的情况。法师致力于成为魔法能量的掌控者，他们塑造这些魔法能量并将其作为法术施展出来。',
    image: 'https://p.sda1.dev/28/04dd86265924234e354b95ded54db6a7/Wizard.jpg',
    imageCredit: 'X.com DoPq @yy62401',
    abilityRequirements: {
      int: 9,
    },
    primeRequisites: ['智力'],
    experienceLevels: [
      { level: 1, xp: 0, hitDice: '1d4' },
      { level: 2, xp: 2500, hitDice: '2d4' },
      { level: 3, xp: 5000, hitDice: '3d4' },
      { level: 4, xp: 10000, hitDice: '4d4' },
      { level: 5, xp: 20000, hitDice: '5d4' },
      { level: 6, xp: 40000, hitDice: '6d4' },
      { level: 7, xp: 60000, hitDice: '7d4' },
      { level: 8, xp: 90000, hitDice: '8d4' },
      { level: 9, xp: 135000, hitDice: '9d4' },
      { level: 10, xp: 250000, hitDice: '10d4' },
      { level: 11, xp: 375000, hitDice: '10d4+1' },
      { level: 12, xp: 750000, hitDice: '10d4+2' },
      { level: 13, xp: 1125000, hitDice: '10d4+3' },
      { level: 14, xp: 1500000, hitDice: '10d4+4' },
      { level: 15, xp: 1875000, hitDice: '10d4+5' },
      { level: 16, xp: 2250000, hitDice: '10d4+6' },
      { level: 17, xp: 2625000, hitDice: '10d4+7' },
      { level: 18, xp: 3000000, hitDice: '10d4+8' },
      { level: 19, xp: 3375000, hitDice: '10d4+9' },
      { level: 20, xp: 3750000, hitDice: '10d4+10' },
    ],
    specialAbilities: [
      {
        level: 1,
        name: '施展奥术法术',
        description:
          '法师可以学习和施展奥术法术。对于法师而言，法术是工具，是武器，也是护甲。法师不擅于正面搏杀，但只要做好准备，他可于远方取敌首级、在瞬息间消失不见、化身为完全不同的生物、甚至侵入敌人的心智，掌控其思想与行动。在法师面前，没有不可知的秘密，没有不可破的堡垒。',
      },
      {
        level: 1,
        name: '法术书与记忆机制',
        description:
          '法师的法术书是他最宝贵的财富，包含着他所知的一切魔法知识。法术书包含了对施展法术的繁杂指导——法术的诀窍。仅仅大声读出这些内容或者尝试模仿之并不能让人施展出法术。\n\n在法师真正施法之前，他必须记忆法术的奥术公式。这个过程将该特定法术的能量模式锁闭在法师的脑海中。一旦他记忆了这个法术，这法术就将一直存在于他的记忆中，直到他用手势、词句与材料的特定组合作为引子，触发能量模型被释放的过程。在施法时，该法术的能量会消耗殆尽，从法师的脑海中消退而去。直到法师重新拿起法术书记忆这个法术之前，他将无法再次使用这道法术。\n\n在一开始，法师的头脑在同时间内只能保存这些魔法能量中的一部分。某些法术的施展更费力，也比其他的法术更为复杂，缺乏经验的法师无法记忆这些法术。随着经验的增长，法师的天赋也得以开发，他可以记忆更多更复杂的法术。',
      },
      {
        level: 1,
        name: '学习新法术',
        description:
          '每当法师发现一个他尚未掌握的法术的文字记载，他可以尝试阅读与理解这些记载。玩家必须投掷百面骰。如果该结果小于等于习得新法术的几率百分比（由智力决定），那么角色理解了这个法术与施展它的方法，可以将其加入法术书（除非他已习得的该法术等级的法术已经达到了数量上限）。如果掷骰结果大于角色习得这个法术的几率百分比，他就没能理解这个法术。\n\n一个已习得的法术无法被"忘记"，它将永远是角色的全部本领之一。因此，角色不能选择"忘记"一个法术来换上另一个法术。',
      },
      {
        level: 1,
        name: '使用魔法物品',
        description:
          '法师可用的魔法物品多于任何的其他角色。这包括药剂、戒指、魔杖、权杖、卷轴以及各种魔法物品当中的大部分。法师能够使用其职业可用武器的魔法版本，但无法使用魔法护甲，因为他无法穿戴护甲。尽管如此，在其法术与魔法物品之间，法师掌握着巨大的力量。',
      },
      {
        level: 9,
        name: '制作魔法物品',
        description:
          '所有法师（不论是巫师还是专精法师）都可以制造新的魔法物品，从简单的卷轴药剂乃至于强大的法杖与魔剑。\n\n当法师到达第九级，他就可以抄写法术卷轴或调制药剂。法师必须习得特定的法术（或者与能使用此类法术的人合作）才能制造更强大的魔法物品。制造魔法物品需要研发时间和材料成本，具体细节由DM决定。',
      },
      {
        level: 9,
        name: '研究新法术',
        description:
          '法师的另一个重要力量就是他研究新法术的能力。这是非常困难、耗费时间、代价高昂，偶尔甚至会伴随着危险的工作。通过研究，法师可以在DM的允许下创造出全新的法术。同样地，通过与DM咨询，角色可以制造一些魔法物品，无论是那些与已有规则相类似的，还是完全由自己独创设计的。',
      },
    ],
    weaponRestrictions: '只能使用匕首、法杖、飞镖、小刀和投索',
    armorRestrictions: '不能穿戴任何护甲',
    allowedWeapons: [
      'club', // 木棒
      'dagger', // 匕首
      'dart', // 飞镖
      'hand-crossbow', // 手弩
      'knife', // 小刀
      'short-bow', // 短弓
      'sling', // 投索
      'broad-sword', // 阔剑
      'long-sword', // 长剑
      'short-sword', // 短剑
      'quarterstaff', // 铁头棍/木棍
    ],
    spellcasting: {
      type: 'wizard',
      spellProgression: [
        { level: 1, spells: [1, 0, 0, 0, 0, 0, 0, 0, 0] },
        { level: 2, spells: [2, 0, 0, 0, 0, 0, 0, 0, 0] },
        { level: 3, spells: [2, 1, 0, 0, 0, 0, 0, 0, 0] },
        { level: 4, spells: [3, 2, 0, 0, 0, 0, 0, 0, 0] },
        { level: 5, spells: [4, 2, 1, 0, 0, 0, 0, 0, 0] },
        { level: 6, spells: [4, 2, 2, 0, 0, 0, 0, 0, 0] },
        { level: 7, spells: [4, 3, 2, 1, 0, 0, 0, 0, 0] },
        { level: 8, spells: [4, 3, 3, 2, 0, 0, 0, 0, 0] },
        { level: 9, spells: [4, 3, 3, 2, 1, 0, 0, 0, 0] },
        { level: 10, spells: [4, 4, 3, 2, 2, 0, 0, 0, 0] },
        { level: 11, spells: [4, 4, 4, 3, 3, 0, 0, 0, 0] },
        { level: 12, spells: [4, 4, 4, 4, 4, 1, 0, 0, 0] },
        { level: 13, spells: [5, 5, 5, 4, 4, 2, 0, 0, 0] },
        { level: 14, spells: [5, 5, 5, 4, 4, 2, 1, 0, 0] },
        { level: 15, spells: [5, 5, 5, 5, 5, 2, 1, 0, 0] },
        { level: 16, spells: [5, 5, 5, 5, 5, 3, 2, 1, 0] },
        { level: 17, spells: [5, 5, 5, 5, 5, 3, 3, 2, 0] },
        { level: 18, spells: [5, 5, 5, 5, 5, 3, 3, 2, 1] },
        { level: 19, spells: [5, 5, 5, 5, 5, 3, 3, 3, 1] },
        { level: 20, spells: [5, 5, 5, 5, 5, 4, 3, 3, 2] },
      ],
    },
    specialNotes: [
      '智力值达到16或更高能得到额外的10%经验值奖励',
      '法师不能穿戴任何护甲。护甲的限制会使他们难以准确地完成大多数法术所需的复杂手势与奇怪动作',
      '法师将青春都花在了学习奥术语言，翻阅陈旧的书籍，以及法术的练习上，没时间去学习护甲和复杂武器的使用',
      '只能使用简便易学或是对研究有所助益的武器：匕首、法杖、飞镖、小刀和投索',
      '法师可以使用的魔法物品多于任何其他角色，包括药剂、戒指、魔杖、权杖、卷轴以及各种魔法物品当中的大部分',
      '智力决定了已知法术数量和法术习得率（见属性表）',
      '巫师是法师中最为多才多艺的一种，不专精于某个特定的魔法学派，可以学习所有学派的法术',
      '与其他角色不同，法师不能通过建造城堡或据点获得大量追随者。在最好的情况下，法师可能会得到几个追随者与学徒来协助他的工作',
      '法师的名声总是阻止普通人蜂拥到他的门前，他们对魔法感到畏惧和敬畏',
    ],
  },

  // ==================== 祭司类 ====================
  {
    id: 'cleric',
    name: '牧师',
    englishName: 'Cleric',
    category: 'priest',
    icon: '✝️',
    description:
      '牧师是最为常见的祭司。他可以是任何神系信仰的信徒。牧师通常是善良的，但并不局限于善良阵营；他们这个阶级可以接纳任何阵营。牧师这个职业类似于中世纪的某些宗教骑士团：条顿骑士团、圣殿骑士团和医护骑士团。',
    image: 'https://p.sda1.dev/28/e74e763c01d6def3834ab80470696533/Cleric.jpg',
    imageCredit: 'X.com DoPq @yy62401',
    abilityRequirements: {
      wis: 9,
    },
    primeRequisites: ['灵知'],
    experienceLevels: [
      { level: 1, xp: 0, hitDice: '1d8' },
      { level: 2, xp: 1500, hitDice: '2d8' },
      { level: 3, xp: 3000, hitDice: '3d8' },
      { level: 4, xp: 6000, hitDice: '4d8' },
      { level: 5, xp: 13000, hitDice: '5d8' },
      { level: 6, xp: 27500, hitDice: '6d8' },
      { level: 7, xp: 55000, hitDice: '7d8' },
      { level: 8, xp: 110000, hitDice: '8d8' },
      { level: 9, xp: 225000, hitDice: '9d8' },
      { level: 10, xp: 450000, hitDice: '9d8+2' },
      { level: 11, xp: 675000, hitDice: '9d8+4' },
      { level: 12, xp: 900000, hitDice: '9d8+6' },
      { level: 13, xp: 1125000, hitDice: '9d8+8' },
      { level: 14, xp: 1350000, hitDice: '9d8+10' },
      { level: 15, xp: 1575000, hitDice: '9d8+12' },
      { level: 16, xp: 1800000, hitDice: '9d8+14' },
      { level: 17, xp: 2025000, hitDice: '9d8+16' },
      { level: 18, xp: 2250000, hitDice: '9d8+18' },
      { level: 19, xp: 2475000, hitDice: '9d8+20' },
      { level: 20, xp: 2700000, hitDice: '9d8+22' },
    ],
    specialAbilities: [
      {
        level: 1,
        name: '施展神术法术',
        description:
          '法术是牧师的主要工具，这可以帮助他服务、强化、保护和治疗那些他所关心的人。他拥有能适用于不同需求的各种法术可供选择。牧师能够掌握除了植物、动物、气候和元素以外的其他领域的主要权能（他能够得到元素领域的次要权能，但不可施展其他三个领域的法术）。\n\n牧师从他的神祇那里接受法术作为直接的喻示（神并不需要亲自出面来授予牧师他所祈求的法术），作为对他信念的象征和奖励，因此他必须避免滥用他的力量以免其因惩罚而被夺走。',
      },
      {
        level: 1,
        name: '斥退亡灵',
        description:
          '牧师被授予终结亡灵——以非生命形式而存在的邪恶生物，既非死去亦非活着——的力量。牧师有责任击败这些亵渎生命之物。他的斥退亡灵能力使他能够赶走这些生物，或甚至将其彻底摧毁（但邪恶阵营的牧师可以用自己的意志来束缚这些生物）。\n\n一些较为平常的亡灵有食尸鬼、僵尸、骷髅、幽灵和木乃伊。吸血鬼和巫妖（亡灵的术士）是最强大的亡灵之一。随着牧师等级的提升，他的斥退能力会变得更强大。',
      },
      {
        level: 1,
        name: '使用魔法物品',
        description:
          '牧师可以使用不少魔法物品，其中包括祭司卷轴、大多数的药剂和戒指、部分魔杖和权杖、法杖、护甲、盾牌及其阶级可用武器的魔法版本。',
      },
      {
        level: 8,
        name: '吸引信徒',
        description:
          '当达到8级时，如果牧师已经建立了一个足够大的祭祀场所，那么他会自动引来一队狂热而忠实的信徒。牧师可以在他职业生涯中的任何时刻建造这个祭祀场所，但在达到8级前他都不会引来信徒。\n\n这些随从是准备着为牧师而战的普通勇士，0级的士兵。牧师将引来20至200个这样的随从；他们将在几周之内陆续抵达。在最初的随从集结后，不会有陆续填补死者的空缺的新随从。',
      },
      {
        level: 9,
        name: '建立要塞',
        description:
          '在9级时，牧师可能会获得被批准兴建一座宗教要塞的正式授权。它可以是坚固的教堂也可以是与世隔绝的隐修院。很显然，这个要塞必须具备一个祭祀场所必备的各种装潢，并且必须是为牧师的事业而服务的。\n\n由于这项工程将会得到官方的支持以及大量免费的劳动力，因此这座要塞的建造费用减半。牧师可以在9级之前就取得产权并建造要塞，但这样做并不会得到教会支持以及上述的各种好处。',
      },
    ],
    weaponRestrictions: '只能使用不锋利的钝器类武器',
    armorRestrictions: '可以穿戴任何类型的护甲和盾牌',
    allowedWeapons: [
      'club', // 木棒
      'quarterstaff', // 铁头棍
      'footmans-mace', // 步兵硬头锤
      'horsemans-mace', // 骑兵硬头锤
      'footmans-flail', // 步兵连枷
      'horsemans-flail', // 骑兵连枷
      'morning-star', // 晨星锤
      'warhammer', // 战锤
      'sling', // 投索
      'staff-sling', // 杖投索
    ],
    spellcasting: {
      type: 'priest',
      spellProgression: [
        { level: 1, spells: [1, 0, 0, 0, 0, 0, 0] },
        { level: 2, spells: [2, 0, 0, 0, 0, 0, 0] },
        { level: 3, spells: [2, 1, 0, 0, 0, 0, 0] },
        { level: 4, spells: [3, 2, 0, 0, 0, 0, 0] },
        { level: 5, spells: [3, 3, 1, 0, 0, 0, 0] },
        { level: 6, spells: [3, 3, 2, 0, 0, 0, 0] },
        { level: 7, spells: [3, 3, 2, 1, 0, 0, 0] },
        { level: 8, spells: [3, 3, 3, 2, 0, 0, 0] },
        { level: 9, spells: [4, 4, 3, 2, 1, 0, 0] },
        { level: 10, spells: [4, 4, 3, 3, 2, 0, 0] },
        { level: 11, spells: [5, 4, 4, 3, 2, 1, 0] },
        { level: 12, spells: [6, 5, 5, 3, 2, 2, 0] },
        { level: 13, spells: [6, 6, 6, 4, 2, 2, 0] },
        { level: 14, spells: [6, 6, 6, 5, 3, 2, 1] },
        { level: 15, spells: [6, 6, 6, 6, 4, 2, 1] },
        { level: 16, spells: [7, 7, 7, 6, 4, 3, 1] },
        { level: 17, spells: [7, 7, 7, 7, 5, 3, 2] },
        { level: 18, spells: [8, 8, 8, 8, 6, 4, 2] },
        { level: 19, spells: [9, 9, 8, 8, 6, 4, 2] },
        { level: 20, spells: [9, 9, 9, 8, 7, 5, 2] },
      ],
    },
    spellSpheres: {
      major: ['共通', '战斗', '预言', '医疗', '保护', '死灵', '守卫', '召唤', '太阳', '魅惑', '创造', '星界'],
      minor: ['元素'],
    },
    specialNotes: [
      '灵知值达到16或更高能得到额外的10%经验值奖励',
      '高灵知值可以获得额外法术位',
      '牧师通常是善良的，但并不局限于善良阵营；这个阶级可以接纳任何阵营',
      '牧师这个职业类似于中世纪的某些宗教骑士团：条顿骑士团、圣殿骑士团和医护骑士团',
      '牧师是强壮的士兵，可以穿戴任何种类的护甲和盾牌',
      '标准的牧师被禁止导致流血及传播暴力，只能使用不锋利的钝器类武器',
      '牧师能够掌握除植物、动物、气候和元素以外的其他领域的主要权能（可得到元素领域的次要权能）',
      '历史典型：大主教托宾（出自《罗兰之歌》）、日本的僧兵',
    ],
  },

  {
    id: 'druid',
    name: '德鲁伊',
    englishName: 'Druid',
    category: 'priest',
    icon: '🌿',
    image: 'https://p.sda1.dev/28/e1326fce9fb43b1787b32e0978424c54/Druid.jpg',
    imageCredit: 'X.com Taran Fiddler @TFiddlerArt',
    description:
      '德鲁伊是自然的祭司和荒野的护卫者，无论森林、平原还是丛林。历史上的德鲁伊们生活在罗马帝国时期西欧和英国的日耳曼部落中。德鲁伊必须是中立阵营，超脱于现世的纷繁之外，最关心的是自然那有序而必要的往复轮回——出生、成长、死亡与重生。',
    abilityRequirements: {
      wis: 12,
      cha: 15,
    },
    primeRequisites: ['灵知', '魅力'],
    experienceLevels: [
      { level: 1, xp: 0, hitDice: '1d8' },
      { level: 2, xp: 2000, hitDice: '2d8' },
      { level: 3, xp: 4000, hitDice: '3d8' },
      { level: 4, xp: 7500, hitDice: '4d8' },
      { level: 5, xp: 12500, hitDice: '5d8' },
      { level: 6, xp: 20000, hitDice: '6d8' },
      { level: 7, xp: 35000, hitDice: '7d8' },
      { level: 8, xp: 60000, hitDice: '8d8' },
      { level: 9, xp: 90000, hitDice: '9d8' },
      { level: 10, xp: 125000, hitDice: '9d8+2' },
      { level: 11, xp: 200000, hitDice: '9d8+4' },
      { level: 12, xp: 300000, hitDice: '9d8+6' },
      { level: 13, xp: 750000, hitDice: '9d8+8' },
      { level: 14, xp: 1500000, hitDice: '9d8+10' },
      { level: 15, xp: 3000000, hitDice: '9d8+12' },
      { level: 16, xp: 3500000, hitDice: '9d8+14' },
      { level: 17, xp: 500000, hitDice: '9d8+16' },
      { level: 18, xp: 1000000, hitDice: '9d8+18' },
      { level: 19, xp: 1500000, hitDice: '9d8+20' },
      { level: 20, xp: 2000000, hitDice: '9d8+22' },
    ],
    specialAbilities: [
      {
        level: 1,
        name: '豁免奖励',
        description: '德鲁伊如同牧师般进行大多数豁免检定，但他在所有对抗火焰或电击的豁免检定上获得+2奖励。',
      },
      {
        level: 1,
        name: '德鲁伊语',
        description:
          '所有的德鲁伊在他们原本所知的语言外还会说一种特殊的语言（不耗用熟练槽）。这种德鲁伊的语言只能用来处理和自然有关的事情。德鲁伊们小心地守护着这门语言；这是他们用来彼此辨认的一种万无一失的方式。',
      },
      {
        level: 1,
        name: '施展神术法术',
        description:
          '德鲁伊没有牧师那样的可用法术范围，他们只能掌握以下领域的主要权能：共通、动物、元素、医疗、植物和气候，他们拥有预言领域的次要权能。',
      },
      {
        level: 1,
        name: '使用魔法物品',
        description:
          '德鲁伊能够使用所有牧师可用的魔法物品，除了那些被书写的（书籍与卷轴）和德鲁伊通常不能使用的武器和护甲。',
      },
      {
        level: 3,
        name: '鉴别自然',
        description: '达到3级时，德鲁伊能准确无误的鉴别植物、动物和纯净水。',
      },
      {
        level: 3,
        name: '林地穿行',
        description:
          '达到3级时，德鲁伊能以正常速度不留痕迹的穿过杂草丛生的区域（浓密的荆丛、纠结的藤蔓、荆棘、小片田地，诸如此类）。',
      },
      {
        level: 3,
        name: '林地生物语言',
        description:
          '德鲁伊能学会林地生物的语言。这其中包括：半人马、树精、精灵、半羊人、侏儒、龙、巨人、蜥蜴人、蝎尾狮、尼克精、皮克精、小妖精和树人。德鲁伊在达到3级时以及以后每次等级提升时获得一门语言。',
      },
      {
        level: 7,
        name: '魅惑免疫',
        description: '达到7级时，德鲁伊免疫于林地生物所施展的魅惑（Charm）法术（像是树精、尼克精等等）。',
      },
      {
        level: 7,
        name: '变形能力',
        description:
          '达到7级时，德鲁伊得到变化能力，每日3次。这可以使他变化成爬虫、鸟类或哺乳动物，每种动物形态（爬虫、鸟类、哺乳动物）每天都只能变化1次，其体型可介于牛蛙或小鸟那么小到黑熊那么大之间。\n\n每当呈现为一个新形态时，德鲁伊都可回复10-60%（1d6x10%）的所受伤害（小数向下取整）。德鲁伊只能变成为普通（现实世界的）且正常大小的动物，而这么做会使他得到该动物的所有特征——它的移动速率和能力、它的防御等级、攻击次数，以及每次攻击的伤害。\n\n德鲁伊的衣着和每支手各持有的一件物品也会化为新身体的一部分；这些东西将在德鲁伊变回原形时重现。',
      },
      {
        level: 16,
        name: '德鲁伊圣师能力',
        description:
          '在16级时，德鲁伊圣师获得三种能力：\n\n• 对所有自然毒素免疫。自然毒素是指主动或被动摄入的动物或植物毒素，包括怪物的毒素，但不包括矿物的毒素和毒气。\n\n• 不再受到老化导致的能力值调整的影响。\n\n• 随意改变外观的能力。改变外观需要一轮时间。身高和体重能够增减多达50%，表面年龄则可介于幼年到极老之间，身体和面部特征可与任何人类或类人生物相似。这种变形不是魔法的，所以无法被真知术以外的手段所探知。',
      },
      {
        level: 17,
        name: '冬眠与土元素界',
        description:
          '达到17级时，角色获得冬眠的生理能力。他的身体机能减缓到可能会被仔细的观察者当做已经死掉的地步；他同时也停止老化。角色在冬眠期间处于完全昏迷中。他将在到达预定时间或环境发生重大变化时醒来。\n\n一名17级的德鲁伊圣师还能随意进入土元素界。这一迁移需耗时一轮。该能力还能提供在该界域生存、四处行动，以及随意返回主物质界的能力。',
      },
      {
        level: 18,
        name: '进入火元素界',
        description: '角色获得进入火元素界并在那里生存的能力。',
      },
      {
        level: 19,
        name: '进入水元素界',
        description: '角色获得进入水元素界并在那里生存的能力。',
      },
      {
        level: 20,
        name: '进入气元素界',
        description: '角色获得进入气元素界并在那里生存的能力。',
      },
    ],
    weaponRestrictions: '只能使用木棒、镰刀、飞镖、矛、匕首、弯刀、投索和木棍',
    armorRestrictions: '只能使用皮甲和木盾',
    allowedWeapons: [
      'club', // 木棒
      'khopesh', // 镰剑(镰刀)
      'dart', // 飞镖
      'spear', // 矛
      'dagger', // 匕首
      'scimitar', // 弯刀
      'sling', // 投索
      'quarterstaff', // 铁头棍
    ],
    spellcasting: {
      type: 'priest',
      spellProgression: [
        { level: 1, spells: [1, 0, 0, 0, 0, 0, 0] },
        { level: 2, spells: [2, 0, 0, 0, 0, 0, 0] },
        { level: 3, spells: [2, 1, 0, 0, 0, 0, 0] },
        { level: 4, spells: [3, 2, 0, 0, 0, 0, 0] },
        { level: 5, spells: [3, 3, 1, 0, 0, 0, 0] },
        { level: 6, spells: [3, 3, 2, 0, 0, 0, 0] },
        { level: 7, spells: [3, 3, 2, 1, 0, 0, 0] },
        { level: 8, spells: [3, 3, 3, 2, 0, 0, 0] },
        { level: 9, spells: [4, 4, 3, 2, 1, 0, 0] },
        { level: 10, spells: [4, 4, 3, 3, 2, 0, 0] },
        { level: 11, spells: [5, 4, 4, 3, 2, 1, 0] },
        { level: 12, spells: [6, 5, 5, 3, 2, 2, 0] },
        { level: 13, spells: [6, 6, 6, 4, 2, 2, 0] },
        { level: 14, spells: [6, 6, 6, 5, 3, 2, 1] },
        { level: 15, spells: [6, 6, 6, 6, 4, 2, 1] },
        { level: 16, spells: [7, 7, 7, 6, 4, 3, 1] },
        { level: 17, spells: [7, 7, 7, 7, 5, 3, 2] },
        { level: 18, spells: [8, 8, 8, 8, 6, 4, 2] },
        { level: 19, spells: [9, 9, 8, 8, 6, 4, 2] },
        { level: 20, spells: [9, 9, 9, 8, 7, 5, 2] },
      ],
    },
    spellSpheres: {
      major: ['共通', '动物', '元素', '医疗', '植物', '气候'],
      minor: ['预言'],
    },
    specialNotes: [
      '灵知和魅力达到16或以上能得到额外的10%经验值奖励',
      '德鲁伊是自然的祭司和荒野的护卫者，无论森林、平原还是丛林',
      '德鲁伊必须是中立阵营。他们超脱于现世的纷繁之外，最关心的是自然那有序而必要的往复轮回——出生、成长、死亡与重生',
      '德鲁伊只能使用"天然"的护甲——皮甲和木盾，包括那些被魔法强化过的',
      '德鲁伊只能使用木棒、镰刀、飞镖、矛、匕首、弯刀、投索和木棍作为武器',
      '德鲁伊只能施展共通、动物、元素、医疗、植物和气候领域的主要权能，拥有预言领域的次要权能',
      '德鲁伊不能斥退亡灵',
      '檞寄生是德鲁伊的一种神圣象征以及某些法术必要材料。必须在满月之时用金质或银质镰刀采集才能完全发挥功效',
      '德鲁伊不能长期生活在城堡、城市或乡镇中。所有的德鲁伊都喜欢住在森林，并在那里搭建小房舍',
      '德鲁伊有严格的等级结构。在12级时成为正式"德鲁伊"，每个地域只能有9个12级德鲁伊',
      '13级为"高阶德鲁伊"，每个地域最多3个',
      '14级为"大德鲁伊"，在他的地区中独一无二',
      '15级为"德鲁伊宗师"，全世界惟有一人能高踞此位。掌握6个法术（每等级）并能额外施放最多六个法术等级的法术',
      '16级及以上为"德鲁伊圣师"，不再获得新法术位，而是获得类法术能力',
      '历史上的德鲁伊们生活在罗马帝国时期西欧和英国的日耳曼部落中，是酋长的顾问',
    ],
  },

  // ==================== 游荡者类 ====================
  {
    id: 'thief',
    name: '盗贼',
    englishName: 'Thief',
    category: 'rogue',
    icon: '🗡️',
    image: 'https://p.sda1.dev/28/79bcebac935ec8696ec479fa60ea0032/Thief.jpg',
    imageCredit: 'X.com alextaniciel.bsky.social @alextaniciel',
    description:
      '盗贼的种类千奇百怪，他们随时都准备着用某些小手段来捞油水。或善或恶，盗贼靠着高超的偷盗技巧来达成目标。诡计多端、机警过人与神出鬼没是他的招牌。许多著名的民间英雄都做过比偷窃更过分的事情，就像列那狐、罗宾·古德菲勒和阿里巴巴。',
    abilityRequirements: {
      dex: 9,
    },
    primeRequisites: ['敏捷'],
    experienceLevels: [
      { level: 1, xp: 0, hitDice: '1d6' },
      { level: 2, xp: 1250, hitDice: '2d6' },
      { level: 3, xp: 2500, hitDice: '3d6' },
      { level: 4, xp: 5000, hitDice: '4d6' },
      { level: 5, xp: 10000, hitDice: '5d6' },
      { level: 6, xp: 20000, hitDice: '6d6' },
      { level: 7, xp: 40000, hitDice: '7d6' },
      { level: 8, xp: 70000, hitDice: '8d6' },
      { level: 9, xp: 110000, hitDice: '9d6' },
      { level: 10, xp: 160000, hitDice: '10d6' },
      { level: 11, xp: 220000, hitDice: '10d6+2' },
      { level: 12, xp: 440000, hitDice: '10d6+4' },
      { level: 13, xp: 660000, hitDice: '10d6+6' },
      { level: 14, xp: 880000, hitDice: '10d6+8' },
      { level: 15, xp: 1100000, hitDice: '10d6+10' },
      { level: 16, xp: 1320000, hitDice: '10d6+12' },
      { level: 17, xp: 1540000, hitDice: '10d6+14' },
      { level: 18, xp: 1760000, hitDice: '10d6+16' },
      { level: 19, xp: 1980000, hitDice: '10d6+18' },
      { level: 20, xp: 2200000, hitDice: '10d6+20' },
    ],
    specialAbilities: [
      {
        level: 1,
        name: '盗贼技能',
        description:
          '盗贼拥有八项特殊技能，每项技能都有一个百分比成功率：\n\n• 盗窃（Pick Pockets）：从他人口袋、袖子、腰带、背包里悄悄拿走小道具\n• 开锁（Open Locks）：打开挂锁、组合锁和解谜锁，需要专用工具\n• 寻找/解除陷阱（Find/Remove Traps）：寻找不起眼的陷阱和警报装置并解除它们\n• 潜行（Move Silently）：无声移动（移动力减至1/3）\n• 阴影躲藏（Hide in Shadows）：消失于阴影或遮蔽物中\n• 辨声（Detect Noise）：听到细微声响的能力\n• 爬墙（Climb Walls）：徒手攀爬陡峭表面\n• 解读文书（Read Languages）：4级起可解读未知语言文书\n\n每项技能的成功率受到种族、敏捷和护甲的调整。盗贼在1级时获得60个可自由分配的技能点（每个技能最多30点），以后每级获得30点（每个技能最多15点）。',
      },
      {
        level: 1,
        name: '背刺（1-4级）',
        description:
          '当盗贼攻击被突袭或背对他的目标时，可以大大提高命中几率和造成的伤害。\n\n背后攻击获得+4命中奖励，并且无视目标的盾牌防御和敏捷奖励。在1-4级时，背刺造成2倍伤害。\n\n限制：\n• 目标必须是普通类人生物\n• 目标需要有明显可定义的背部\n• 盗贼必须能够击中目标的致命部位\n• 伤害倍数只适用于第一次攻击\n• 伤害倍数应用于加上力量调整和武器增强奖励之前的基础伤害',
      },
      {
        level: 1,
        name: '盗贼黑话',
        description:
          '盗贼黑话是一种在盗贼及其同伙之间使用的特殊沟通方式。它并不是一种独特的语言，而是由一些俚语以及拥有隐含意义的词语组成的。\n\n盗贼黑话的词汇限制了盗贼运用它所讨论事物的范围：赃物、简易标记、闯空门、抢劫、诈骗等等。两名盗贼不可能只通过盗贼黑话进行交流，除非他们懂得一种双方都会使用的语言。在普通对话中加入几个行话可以用于识别出无赖和其他人。',
      },
      {
        level: 5,
        name: '背刺（5-8级）',
        description: '背刺伤害倍数提升至3倍。盗贼的背刺技巧随着经验的积累而提升，能够更精确地找到致命部位。',
      },
      {
        level: 9,
        name: '背刺（9-12级）',
        description: '背刺伤害倍数提升至4倍。盗贼已经成为背刺大师，能够造成毁灭性的伤害。',
      },
      {
        level: 10,
        name: '使用卷轴',
        description:
          '从10级开始，盗贼可以有限制地使用法师与牧师的法术卷轴。盗贼对魔法文字的认识并不完全，因此他有25%的几率会错误地阅读法术卷轴并扭曲法术的效果。\n\n这种失误基本上对盗贼和他的伙伴们都是不利的。它可以是不小心逆向施展法术般简单，也可以是犯了较为复杂的错误，结果让火球术以盗贼自己为中心而非它的预定目标。',
      },
      {
        level: 10,
        name: '建立据点与吸引随从',
        description:
          '一旦盗贼的等级达到10级，他的名声就已经大到足够吸引随从——无论是一帮流氓无赖，还是一群希望追随大师学习的斥候。盗贼可以吸引4d6名随从。\n\n盗贼通常不会建立起城堡或者要塞，相反，他们喜欢小而坚固的房屋，特别是当建筑本身的用途可以很容易被伪装的时候。盗贼几乎都会在周边的城市建立自己的据点，因为他们只有在这些地方才能赚到最多的钱。\n\n盗贼往往非常重视自己的地盘，如果有多个盗贼在同一个地区集结了自己的帮派，那么结果往往会是一场战争。',
      },
      {
        level: 13,
        name: '背刺（13级或以上）',
        description: '背刺伤害倍数提升至5倍。盗贼已经达到了背刺技艺的巅峰，一击致命不再是梦想。',
      },
    ],
    weaponRestrictions: '只能使用木棒、匕首、飞镖、手弩、小刀、套索、短弓、投索、阔剑、长剑、短剑和木棍',
    armorRestrictions: '只能穿戴皮甲、镶嵌皮甲、衬甲和精灵链甲（穿戴护甲会影响盗贼技能）',
    allowedWeapons: [
      'club', // 木棒
      'dagger', // 匕首
      'dart', // 飞镖
      'hand-crossbow', // 手弩
      'knife', // 小刀
      'short-bow', // 短弓
      'sling', // 投索
      'broad-sword', // 阔剑
      'long-sword', // 长剑
      'short-sword', // 短剑
      'quarterstaff', // 铁头棍
    ],
    specialNotes: [
      '敏捷值达到16或更高能得到额外的10%经验值奖励',
      '盗贼可以选择除守序善良之外的所有阵营，大多数盗贼的阵营至少有部分是中立的',
      '盗贼不是一个光荣的职业，但也并非完全不可取。许多著名的民间英雄都做过比偷窃更过分的事情',
      '盗贼大部分时间都花在了练习偷窃技巧上，武器选择范围有限',
      '只能使用木棒、匕首、飞镖、手弩、小刀、套索、短弓、投索、阔剑、长剑、短剑和木棍',
      '可以穿戴皮甲、镶嵌皮甲、衬甲和精灵链甲。穿戴皮甲以外的护甲时，盗贼技能会受到惩罚',
      '只穿戴防御护腕或斗篷而没有穿大型或重型防护服饰时，护甲调整值按"无甲"计算',
      '在1至10级，每级获得一个d6生命骰。10级后每级获得2点生命值且不再因高体质值而获得额外生命值',
      '盗贼技能基础成功率会受到种族、敏捷和护甲的调整',
      '盗贼在1级时获得60个可自由分配的技能点（每个技能最多30点），以后每级获得30点（每个技能最多15点）',
      '所有技能的成功率都不能提升到95%以上（包括所有调整值在内）',
      '历史典型：列那狐、罗宾·古德菲勒、阿里巴巴',
    ],
  },

  {
    id: 'bard',
    name: '吟游诗人',
    englishName: 'Bard',
    category: 'rogue',
    icon: '🎵',
    description:
      '吟游诗人是一种可选职业，需要DM允许才能使用。吟游诗人会在他的生活中充分发挥自己的魅力、才华与才智。优秀的诗人理应拥有绝佳的口才、光明的心灵以及跑得飞快的双腿。在历史和传说故事中，艾伦·戴尔、威尔·斯卡雷特、阿麦金甚至荷马都属于这类人。',
    image: 'https://p.sda1.dev/28/6bd78da2add223a112f82a1c8378345d/bard.jpg',
    imageCredit: 'X.com DoPq @yy62401',
    abilityRequirements: {
      dex: 12,
      int: 13,
      cha: 15,
    },
    primeRequisites: ['敏捷', '魅力'],
    experienceLevels: [
      { level: 1, xp: 0, hitDice: '1d6' },
      { level: 2, xp: 1250, hitDice: '2d6' },
      { level: 3, xp: 2500, hitDice: '3d6' },
      { level: 4, xp: 5000, hitDice: '4d6' },
      { level: 5, xp: 10000, hitDice: '5d6' },
      { level: 6, xp: 20000, hitDice: '6d6' },
      { level: 7, xp: 40000, hitDice: '7d6' },
      { level: 8, xp: 70000, hitDice: '8d6' },
      { level: 9, xp: 110000, hitDice: '9d6' },
      { level: 10, xp: 160000, hitDice: '10d6' },
      { level: 11, xp: 220000, hitDice: '10d6+2' },
      { level: 12, xp: 440000, hitDice: '10d6+4' },
      { level: 13, xp: 660000, hitDice: '10d6+6' },
      { level: 14, xp: 880000, hitDice: '10d6+8' },
      { level: 15, xp: 1100000, hitDice: '10d6+10' },
      { level: 16, xp: 1320000, hitDice: '10d6+12' },
      { level: 17, xp: 1540000, hitDice: '10d6+14' },
      { level: 18, xp: 1760000, hitDice: '10d6+16' },
      { level: 19, xp: 1980000, hitDice: '10d6+18' },
      { level: 20, xp: 2200000, hitDice: '10d6+20' },
    ],
    specialAbilities: [
      {
        level: 1,
        name: '吟游诗人技能',
        description:
          '吟游诗人拥有四项特殊技能，每项技能都有一个百分比成功率：\n\n• 爬墙（Climb Walls）：像盗贼一样不借助工具而爬上墙壁\n• 辨声（Detect Noise）：聆听和理解声音的能力，必须脱下头盔并集中注意力一轮\n• 偷窃（Pick Pockets）：窃取小物品或在表演时耍花招娱乐大众\n• 解读文书（Read Languages）：解读不熟悉的语言\n\n吟游诗人在1级时获得20个可自由分配的技能点，以后每级获得15点。这些技能同样受到种族、敏捷和护甲的调整。',
      },
      {
        level: 1,
        name: '音乐与演奏',
        description:
          '所有的吟游诗人都是出色的歌手、领唱或歌唱家，并且会演奏任意乐器（最好是能方便携带的）。如果使用可选的熟练度规则，那么吟游诗人每个等级都可以花费一个熟练槽来学习两种乐器。',
      },
      {
        level: 1,
        name: '影响反应',
        description:
          '吟游诗人可以通过反应来影响NPC群体。如果一群敌人在吟游诗人开始表演之前还没有攻击，那么吟游诗人可以尝试改变听众们的情绪（更加温和或更加激动）。\n\n该方法可以是任何最适合目前环境的：一场情绪激昂的演讲、一大堆笑话、一个悲伤的故事、柔和的小提琴、萦绕不断的琵琶曲，或是家乡的英雄赞歌。\n\n所有听众必须进行一次对抗麻痹的豁免检定。吟游诗人每有3个经验等级，就可以给予对方的豁免检定结果-1的调整值。豁免失败的敌人，其态度可以向着友好或敌对的方向转变一级。豁免成功的敌人，态度会向相反方向转变一级。\n\n该能力不能影响战斗中的人，表演形式必须对应合适的观众。',
      },
      {
        level: 1,
        name: '鼓舞士气',
        description:
          '吟游诗人的音乐、诗歌以及逸闻故事可以鼓舞人心，加强朋友和盟友们的凝聚力。\n\n如果某个即将到来的威胁是已知的，吟游诗人可以激发同伴们的勇气，给予那些混战中的同伴：\n• 攻击检定+1奖励，或\n• 豁免检定+1奖励，或\n• +2士气奖励（在大规模战斗中特别有用）\n\n吟游诗人必须在战斗开始前花费至少三轮的时间唱歌或朗诵，影响距离等于吟游诗人等级×10英尺。该效果的持续时间为每级1轮。',
      },
      {
        level: 1,
        name: '反制诗歌',
        description:
          '吟游诗人能够对魔法攻击使用反制诗歌和歌曲。只要吟游诗人吟唱反制诗歌（或朗诵诗文），在以吟游诗人为中心的30英尺范围内的所有队友都可以免疫该攻击。\n\n当这么做的时候，吟游诗人除了慢慢移动之外不可以进行其他行动。如果吟游诗人被击中或在豁免检定中失败，那么他的努力便会被打断。\n\n吟游诗人在使用这个技能时需要进行一次对抗法术的豁免检定，检定成功则阻止这次攻击，失败则该攻击正常生效。该能力对那些涉及到解释、命令或暗示的法术生效。',
      },
      {
        level: 1,
        name: '识别魔法物品',
        description:
          '由于吟游诗人在旅行中会学习一点点各种知识，因此他们有能力识别魔法物品的通常用途和功能。\n\n吟游诗人的每个经验等级都能给他5%的几率来识别魔法物品的通常用途和功能。吟游诗人不需要碰触魔法物品，但必须仔细地检查它。即使检定成功，吟游诗人也不会知道魔法物品的确切功能，他只能知道这件魔法物品一般能用来做什么、它的历史和背景故事。',
      },
      {
        level: 1,
        name: '本地历史知识',
        description:
          '所有吟游诗人都可以读写自己的母语（如果存在着正式的书面语言），且所有吟游诗人都熟悉本地历史（如果使用了可选规则中的熟练度规则）。',
      },
      {
        level: 2,
        name: '施展法师法术',
        description:
          '在旅途中，吟游诗人也能学习一些法师的法术。如同法师，吟游诗人的智力属性决定了他的已知法术数量和法术习得率。\n\n吟游诗人可以把法术记录在他的法术书上，但是在记忆和使用法术上会受到与法师相同的限制，尤其是对护甲的限制。因此，吟游诗人通常会更倾向于使用法术来进行精彩的表演，而不是用来战斗。\n\n吟游诗人的法术通常是因意外或偶然而得到的。从2级开始，吟游诗人会获得1至4个法术。当学会新的法术时，吟游诗人可以把这些法术添加到他的法术书里，但他并不会随着获得等级提升自动获得额外的法术，吟游诗人所有的法术都必须是在他的冒险过程中学会的。',
      },
      {
        level: 9,
        name: '建立据点与吸引随从',
        description:
          '就像勇士那样，吟游诗人可以在9级时通过建立据点来吸引随从。一个吟游诗人可以吸引10d6个0级的士兵来为他服务。\n\n这些随从将会在一段时间内来到吟游诗人身边，但是在战斗中失去的随从是不会自动补充的。当然，吟游诗人可以在任何时候建立据点，但是只有当他达到9级时才会有随从。',
      },
      {
        level: 10,
        name: '使用魔法卷轴',
        description:
          '10级以后，吟游诗人可以尝试使用文书性质的魔法物品——卷轴、书籍等等。然而，由于吟游诗人对法术的理解并不完全（虽然比盗贼更好），所以他有15%的几率会错误理解这些法术的含义。\n\n当发生这种情况时，魔法的力量往往会与预期相反，一般对吟游诗人和他的伙伴们都是不利的。这个结果可能是令人不快的、致命或尴尬的。',
      },
    ],
    weaponRestrictions: '可以使用任何武器',
    armorRestrictions: '可以穿戴上至链甲的任何护甲，但不能使用盾牌',
    spellcasting: {
      type: 'wizard',
      spellProgression: [
        { level: 2, spells: [1, 0, 0, 0, 0, 0] },
        { level: 3, spells: [2, 0, 0, 0, 0, 0] },
        { level: 4, spells: [2, 1, 0, 0, 0, 0] },
        { level: 5, spells: [3, 1, 0, 0, 0, 0] },
        { level: 6, spells: [3, 2, 0, 0, 0, 0] },
        { level: 7, spells: [3, 2, 1, 0, 0, 0] },
        { level: 8, spells: [3, 3, 1, 0, 0, 0] },
        { level: 9, spells: [3, 3, 2, 0, 0, 0] },
        { level: 10, spells: [3, 3, 2, 1, 0, 0] },
        { level: 11, spells: [3, 3, 3, 1, 0, 0] },
        { level: 12, spells: [3, 3, 3, 2, 0, 0] },
        { level: 13, spells: [3, 3, 3, 2, 1, 0] },
        { level: 14, spells: [3, 3, 3, 3, 1, 0] },
        { level: 15, spells: [3, 3, 3, 3, 2, 0] },
        { level: 16, spells: [4, 3, 3, 3, 2, 1] },
        { level: 17, spells: [4, 4, 3, 3, 3, 1] },
        { level: 18, spells: [4, 4, 4, 3, 3, 2] },
        { level: 19, spells: [4, 4, 4, 4, 3, 2] },
        { level: 20, spells: [4, 4, 4, 4, 4, 3] },
      ],
    },
    specialNotes: [
      '敏捷和魅力达到16或以上能得到额外的10%经验值奖励',
      '吟游诗人是一种可选职业，需要DM允许才能使用',
      '不管守序、中立或混乱，善良或邪恶，吟游诗人所选的阵营必须带有中立的部分',
      '作为一个吟游诗人，只有时刻保持超然的视角，才能更好地履行自己的职责',
      '虽然吟游诗人的战斗方式跟游荡者一样，但他可以使用任何武器',
      '可以穿戴上至链甲的任何护甲，但是不能使用盾牌',
      '吟游诗人的天性使得他们会去学习大量不同的技能，他们都是不受人支配的多面手',
      '吟游诗人在1级时获得20个可自由分配的技能点，以后每级获得15点',
      '在1至10级，每级获得一个d6生命骰。10级后每级获得2点生命值且不再因高体质值而获得额外生命值',
      '智力决定了吟游诗人的已知法术数量和法术习得率',
      '吟游诗人的施法等级相当于他自身的等级',
      '吟游诗人并不会随着获得等级提升自动获得额外的法术，所有法术都必须在冒险过程中学会',
      '在真正的历史上，"吟游诗人"这个称呼只适用于某些喜欢用诗歌颂唱自己种族历史的凯尔特诗人',
      '历史典型：艾伦·戴尔、威尔·斯卡雷特、阿麦金、荷马',
    ],
  },
];

// 辅助函数：根据ID获取职业
export function getClassById(classId: string): Class | undefined {
  return classes.find(c => c.id === classId);
}

// 辅助函数：根据名称获取职业
export function getClassByName(className: string): Class | undefined {
  return classes.find(c => c.name === className);
}

// 辅助函数：检查某个种族是否可以选择某个职业
export function canRaceSelectClass(
  raceId: string,
  className: string,
): {
  allowed: boolean;
  levelLimit: number | 'U';
} {
  const race = getRaceById(raceId);
  if (!race) return { allowed: false, levelLimit: 0 };

  const classLimit = race.classLimits.find(cl => cl.className === className);
  return {
    allowed: !!classLimit,
    levelLimit: classLimit?.levelLimit || 0,
  };
}

// 辅助函数：根据类别获取职业列表
export function getClassesByCategory(category: string): Class[] {
  return classes.filter(c => c.category === category);
}

// 职业类别名称映射
export const categoryNames: Record<string, string> = {
  warrior: '勇士',
  wizard: '法师',
  priest: '祭司',
  rogue: '游荡者',
};
